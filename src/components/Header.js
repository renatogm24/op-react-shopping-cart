import React, { useEffect, useState } from "react";
import PropTypes from "prop-types";
import { Link, useLocation } from "react-router-dom";
import styles from "../css/Header.module.css";
import { motion } from "framer-motion";

const svgVariants = {
  hidden: { rotate: -180 },
  visible: {
    rotate: 0,
    transition: { duration: 1 },
  },
};

const pathVariants = {
  hidden: {
    opacity: 0,
    pathLength: 0,
  },
  visible: {
    opacity: 1,
    pathLength: 1,
    transition: {
      duration: 2,
      ease: "easeInOut",
    },
  },
};

function Header(props) {
  const { openSearch, openCart } = props;
  const [theme, setTheme] = useState(null);
  const location = useLocation();

  useEffect(() => {
    setTheme(
      location.pathname === "/op-react-shopping-cart" ||
        location.pathname === "/op-react-shopping-cart/"
        ? "light"
        : "dark"
    );
  }, [location]);

  return (
    <header className={styles.container}>
      <Link to="/op-react-shopping-cart">
        <motion.svg
          className={styles.svgRumbero}
          xmlns="http://www.w3.org/2000/svg"
          viewBox="80 85 40 1"
          variants={svgVariants}
          initial="hidden"
          animate="visible"
          scale="0.2"
        >
          <motion.path
            stroke={theme === "light" ? "white" : "black"}
            fill={theme === "light" ? "black" : "white"}
            d=" M228.494766,513.258301   C232.100372,512.437317 235.473831,509.222260 238.620102,512.186829   C241.784439,515.168518 239.842331,519.120911 238.913879,522.584900   C237.937698,526.226929 236.589005,529.769165 235.951294,533.643738   C239.893234,528.815613 243.680267,523.849976 247.815018,519.192993   C253.414078,512.886780 259.868439,507.619537 268.206940,505.350311   C278.468262,502.557861 285.465424,509.151123 283.249573,519.496582   C282.590424,522.574097 281.645752,525.632751 280.456635,528.546936   C275.802551,539.953125 270.885956,551.252930 266.294861,562.683777   C263.815460,568.857056 261.648743,575.170349 260.846466,581.850220   C260.126862,587.841675 263.362549,591.035645 268.727966,588.539612   C277.205414,584.595825 283.983398,578.681335 285.853821,568.690186   C289.905029,547.049988 300.269989,528.778625 315.762756,513.300598   C323.592194,505.478607 331.976807,498.440796 342.541168,494.506775   C350.530884,491.531586 350.527283,491.521942 358.509735,494.034332   C360.674835,492.724854 360.900299,490.233337 361.662537,488.137787   C370.542145,463.726013 379.205688,439.231323 389.824677,415.495300   C392.825256,408.788330 395.597137,401.838348 403.359772,399.048340   C406.489594,397.923401 409.783325,396.383881 412.736786,399.176392   C415.641998,401.923248 414.006226,405.146362 412.913635,408.032928   C402.952576,434.348969 392.580200,460.514374 382.982300,486.961243   C374.636963,509.956787 366.978912,533.214600 361.927216,557.218201   C361.384216,559.798340 361.142609,562.512573 361.251007,565.144409   C361.475281,570.588501 364.272125,572.138550 368.726715,568.943115   C376.762695,563.178772 382.464050,555.438110 385.933777,546.163635   C392.934479,527.450928 399.929565,508.735168 406.747955,489.955719   C409.474426,482.446320 414.927521,478.507355 422.327026,476.635315   C427.438385,475.342224 429.576782,476.990936 429.187805,482.338531   C428.859314,486.855011 427.244568,491.086212 425.652191,495.293701   C425.258698,496.333435 424.910187,497.390137 424.851257,498.625702   C429.897461,492.236938 434.880615,485.881439 440.851532,480.388733   C445.682068,475.945099 450.874451,472.117676 457.318329,470.327942   C466.608673,467.747681 473.430298,472.807068 472.215454,482.293884   C470.631927,494.659576 465.329254,505.881317 459.140259,516.592712   C457.475372,519.474060 454.412231,520.973145 450.930359,519.902161   C446.995361,518.691711 445.149841,515.624634 444.674194,511.669586   C443.978638,505.886261 445.686493,500.511261 448.044037,494.281586   C442.200073,499.687866 438.236603,505.386749 434.238281,511.018982   C420.048126,531.008057 406.656097,551.495544 396.223022,573.758789   C393.859497,578.802307 390.752747,582.143738 384.616486,580.497253   C382.189148,579.846008 380.512939,581.239197 378.791901,582.611450   C374.158051,586.306396 369.079681,588.836609 363.049438,589.609680   C352.310944,590.986389 345.334595,585.366394 344.700836,574.418945   C344.373260,568.760803 344.932251,563.170776 346.430573,556.625854   C338.164673,570.620483 329.789948,583.176270 317.382690,592.419800   C314.824554,594.325623 312.065247,595.881592 309.075104,596.952698   C301.904755,599.521179 295.290466,599.244324 289.801178,592.181885   C287.477356,594.421204 285.404694,596.489746 283.255737,598.475708   C276.936646,604.315674 269.678955,608.692932 260.881439,607.748352   C247.541656,606.315979 241.012772,595.736816 243.077789,581.000183   C245.232834,565.621094 250.995636,551.480286 257.175323,537.435059   C258.348022,534.769653 259.837372,532.154053 259.973053,528.441040   C255.416672,531.628662 252.730255,535.694031 249.919373,539.514587   C234.002457,561.148926 219.286606,583.535095 207.720993,607.870300   C203.079025,617.637390 200.497513,616.672974 190.785812,614.616821   C188.052353,614.038147 186.939728,612.101746 187.416824,609.388062   C187.789764,607.266846 188.141174,605.102173 188.868469,603.089111   C197.581284,578.973328 206.304367,554.860901 215.162186,530.798218   C217.745056,523.781738 220.099930,516.428162 228.494766,513.258301  M343.532562,528.084534   C346.754761,522.353577 350.044800,516.654236 352.359619,510.160522   C349.771210,510.350342 348.070709,511.454224 346.423096,512.503052   C324.917236,526.193298 311.975098,545.825378 306.388397,570.505798   C306.098724,571.785339 306.079712,573.166321 306.170166,574.483887   C306.406891,577.931091 308.172516,578.572144 310.761078,576.535522   C314.055145,573.943787 316.650146,570.667786 319.084930,567.269104   C327.925476,554.928650 335.952362,542.081360 343.532562,528.084534  z"
            variants={pathVariants}
          />
          <motion.path
            stroke={theme === "light" ? "white" : "black"}
            fill={theme === "light" ? "black" : "white"}
            d=" M669.894897,522.225342   C655.490845,513.393433 650.567749,499.725525 649.934875,484.303345   C649.083191,463.548065 655.207031,444.153290 663.711304,425.551971   C678.882751,392.367615 701.122681,365.119812 732.483826,345.847321   C740.485474,340.930054 749.128845,337.499908 758.306458,335.428314   C761.762024,334.648376 765.226196,334.303741 768.699524,335.100006   C774.774475,336.492676 776.357300,339.471710 774.255310,345.268768   C773.813232,346.488007 772.918030,347.598755 773.265137,349.127472   C774.945068,349.912476 776.483765,348.834076 778.001465,348.507172   C791.448364,345.610718 802.140869,353.738922 802.111755,367.566010   C802.078125,383.548889 798.237610,398.888885 792.708984,413.801117   C781.367737,444.391052 765.769653,472.465637 743.111084,496.228180   C730.190063,509.778656 715.599243,520.760010 697.070190,525.786377   C687.484070,528.386780 678.656006,527.601562 669.894897,522.225342  M752.920654,395.410278   C750.434387,400.001617 746.409119,404.007843 747.732117,410.013184   C748.073120,411.561371 747.035828,412.450653 745.341125,412.403137   C739.167542,412.230133 730.187073,400.993439 731.217468,394.653076   C732.546509,386.474945 736.987305,379.865356 741.924500,373.498779   C746.454346,367.657379 752.029053,362.851166 757.432190,357.810425   C754.680298,358.713989 752.026794,359.698120 749.597717,361.077393   C746.128174,363.047455 742.667664,365.098114 739.471436,367.474884   C707.913635,390.941742 687.988281,422.275940 677.309814,459.810791   C674.786987,468.678619 673.463196,477.686432 674.202698,486.947510   C675.429260,502.308746 685.116699,508.121552 699.115173,501.757507   C706.015198,498.620575 712.055969,494.147156 717.449341,488.900818   C738.898804,468.036377 754.478394,443.170227 766.583313,416.002747   C771.814209,404.262909 776.183655,392.224121 778.068542,379.415405   C778.412048,377.081207 778.713684,374.812408 776.546326,372.427185   C765.942505,376.902985 759.859375,386.101746 752.920654,395.410278  z"
            variants={pathVariants}
          />
          <motion.path
            stroke={theme === "light" ? "white" : "black"}
            fill={theme === "light" ? "black" : "white"}
            d=" M65.507973,619.657837   C69.991638,606.157471 76.587265,594.007141 82.657417,581.073853   C76.349236,581.072754 70.971352,582.600098 65.637711,584.371277   C60.018116,586.237427 57.299431,584.242920 57.712200,578.339966   C58.151466,572.058044 62.610821,568.750244 67.530441,566.047180   C74.210045,562.377075 81.803833,561.606812 89.073082,559.989807   C93.716713,558.956970 96.522018,556.769775 98.933563,552.701355   C116.711853,522.708191 136.092453,493.824799 159.562820,467.898651   C165.040649,461.847626 170.989761,456.245300 177.364731,451.113770   C180.477280,448.608337 183.707138,446.721893 187.715683,448.233612   C188.170822,447.900879 188.518524,447.763184 188.684509,447.507538   C190.648972,444.481567 190.670044,439.175629 196.880493,441.543365   C203.996933,444.256531 209.068329,447.229645 207.595703,454.444458   C203.302582,475.477692 198.157715,496.304047 193.122192,517.151794   C186.444717,544.797485 179.287292,572.328491 172.169067,599.865601   C170.212540,607.434509 167.469894,614.749939 163.915833,621.781860   C159.537460,630.444641 150.871536,631.587891 143.047684,633.785156   C139.493011,634.783508 139.536865,631.196899 140.210571,628.618591   C142.901154,618.321594 145.691696,608.050842 148.398422,597.757996   C150.803116,588.613708 153.145828,579.453064 155.757172,569.367798   C147.769638,570.495605 140.619431,571.477051 133.478516,572.522034   C127.227394,573.436768 121.003166,574.556091 114.735497,575.329224   C110.773224,575.818054 108.219368,577.457336 106.368286,581.224915   C97.844658,598.573181 89.687599,616.064697 83.237190,634.311829   C80.644501,641.646179 77.092407,644.314514 71.981667,642.923279   C65.438522,641.142273 61.995987,635.690369 63.232933,628.755249   C63.757256,625.815491 64.657074,622.942810 65.507973,619.657837  M127.070999,544.504822   C125.526505,547.189392 123.982018,549.873962 122.507591,552.436707   C124.170464,553.967346 125.482300,553.211914 126.729553,553.033875   C136.424423,551.650269 146.082886,549.898071 155.820450,548.977661   C160.361679,548.548462 162.060913,546.669617 163.099747,542.549561   C166.510574,529.022034 170.243317,515.575256 173.891281,502.108002   C176.647308,491.933441 179.462891,481.775024 182.630692,470.229034   C161.169693,493.730225 143.415497,518.139343 127.070999,544.504822  z"
            variants={pathVariants}
          />
          <motion.path
            stroke={theme === "light" ? "white" : "black"}
            fill={theme === "light" ? "black" : "white"}
            d=" M617.428589,503.449341   C617.333801,508.529510 615.726135,513.096313 616.788391,517.798828   C618.017151,523.238464 620.729797,524.361328 625.285339,521.050415   C629.237366,518.178101 632.269531,514.395142 634.979492,510.370697   C637.770203,506.226288 640.471863,502.021881 643.223511,497.851044   C644.255920,496.286316 645.418030,494.697205 647.563904,495.124725   C649.595337,495.529419 650.362854,497.285706 650.955383,499.091125   C653.083008,505.572968 653.131592,511.714233 649.025879,517.664307   C644.752136,523.858154 640.230408,529.801575 634.704895,534.921509   C631.749512,537.659973 628.392517,539.826233 624.554688,541.158264   C612.703674,545.271240 602.626160,539.805115 599.706726,527.612549   C599.095154,525.058411 598.807129,522.426758 598.308655,519.466187   C594.320679,524.792969 590.704346,530.112183 586.568237,534.990723   C583.354065,538.781860 579.619019,542.166565 575.892883,545.481689   C565.674866,554.572693 551.578613,556.935913 541.316589,541.008240   C537.452393,544.386780 533.715088,547.834839 529.789307,551.053101   C517.586487,561.056885 503.675903,566.123535 487.775146,565.347351   C476.697052,564.806458 468.430695,558.680054 466.314850,549.153625   C464.520325,541.074097 467.544464,534.374329 472.937927,528.652893   C475.542694,525.889709 478.683655,523.632019 481.924408,520.851501   C475.944763,517.366760 474.575165,511.329498 473.925690,505.209442   C473.342102,499.710358 475.541962,494.662872 478.542236,490.200378   C490.057739,473.072754 506.287964,462.739197 526.211304,458.121185   C530.362671,457.158905 534.818542,457.866028 537.691223,461.350220   C540.500977,464.758118 539.677795,468.946136 538.147156,472.762695   C536.041199,478.013947 532.655151,482.259247 527.517090,484.899536   C520.712219,488.396301 518.798645,487.814240 515.002991,480.515198   C505.755676,486.696472 498.454651,494.446594 491.996155,503.641663   C495.189575,505.645630 497.230499,504.211823 499.250488,503.317047   C502.292725,501.969574 505.203278,500.303589 508.296112,499.096710   C512.772034,497.350098 515.999634,499.389618 518.513184,503.031006   C521.110901,506.794434 518.775879,509.486603 516.206055,511.634460   C511.238617,515.786255 505.893341,519.483093 500.864624,523.565613   C496.207245,527.346619 491.743866,531.399170 488.284424,536.350464   C484.451050,541.836914 486.822693,546.866150 493.650146,547.556702   C501.430695,548.343628 508.519226,545.996887 514.871704,541.650391   C524.187622,535.276245 531.390747,526.720398 538.491333,518.089905   C539.829590,516.463257 540.000549,514.417419 540.530396,512.510559   C547.033752,489.102966 560.577087,470.600769 580.299255,456.748016   C589.946350,449.971924 600.619324,446.676392 612.414795,452.538422   C615.259583,448.327209 619.206360,446.157257 624.178528,445.986145   C630.478760,445.769348 633.931824,450.418427 631.420105,456.227295   C624.910767,471.281616 620.565369,486.952087 617.428589,503.449341  M560.629272,518.118225   C559.586060,522.687744 557.500977,527.241333 560.673645,533.176514   C582.028381,513.717712 596.509644,490.740387 606.579163,464.382751   C601.831055,464.777008 599.026855,465.685211 594.263062,469.013550   C577.149536,480.970276 567.131653,497.871979 560.629272,518.118225  z"
            variants={pathVariants}
          />
          <motion.path
            stroke={theme === "light" ? "white" : "black"}
            fill={theme === "light" ? "black" : "white"}
            d=" M868.552490,383.821777   C870.340271,384.485229 871.774719,384.962830 873.084656,385.670898   C878.041321,388.349915 878.637817,391.125549 875.196228,395.690430   C863.169006,411.643280 851.189453,427.633423 839.001526,443.462891   C836.385925,446.859802 835.238464,450.020691 835.992676,454.407745   C837.202576,461.445312 837.758484,468.605316 839.519592,475.549683   C841.270691,482.454742 843.595459,483.084503 849.008301,478.243469   C853.791565,473.965546 856.903198,468.394165 860.470276,463.179901   C861.316284,461.943390 862.020569,460.598999 862.953674,459.435455   C864.640198,457.332642 865.271423,453.498535 868.753479,454.013428   C872.711121,454.598663 872.331970,458.690765 873.280884,461.560883   C874.910278,466.489044 873.903442,470.965942 871.230652,475.363770   C866.243774,483.569153 860.322144,490.945587 852.468811,496.509674   C838.649353,506.300629 826.506714,502.031372 821.614258,485.947205   C820.308350,481.653992 819.806030,477.209839 819.136963,472.780090   C817.104553,472.847107 816.790649,474.305634 816.147217,475.328339   C809.409363,486.037476 802.667786,496.742737 796.708801,507.919952   C794.311340,512.416992 791.269470,513.382935 786.256775,511.578156   C780.694702,509.575592 778.091370,505.864655 779.215454,501.128265   C780.143982,497.215393 782.035767,493.672028 784.030640,490.193909   C792.499695,475.427979 802.263184,461.538513 812.817810,448.215729   C815.036438,445.415283 815.564758,442.889526 814.632019,439.565918   C813.422974,435.257782 812.605530,430.839783 811.618591,426.465057   C809.581970,426.352814 809.032227,428.016571 807.968201,428.934418   C805.909668,430.710114 804.292297,434.150360 801.048279,432.655121   C797.420227,430.982819 795.257019,427.464355 795.069519,423.444916   C794.682007,415.135376 808.120422,399.616913 816.353882,398.479309   C821.914917,397.710938 826.916748,401.050140 828.329407,406.520721   C829.479980,410.976715 830.579224,415.445984 831.722168,419.992371   C834.474854,419.403564 835.011047,417.250519 836.087280,415.720703   C843.087097,405.770721 850.339355,396.041260 858.844788,387.285492   C861.490295,384.562134 864.317505,383.026459 868.552490,383.821777  z"
            variants={pathVariants}
          />
          <motion.path
            stroke={theme === "light" ? "white" : "black"}
            fill={theme === "light" ? "black" : "white"}
            d=" M918.826416,457.813995   C921.851257,453.400330 924.532410,449.178345 927.494385,445.163605   C930.426086,441.189880 932.574219,441.577667 934.406128,446.253937   C936.680969,452.060730 937.015564,457.752411 934.073547,463.594421   C927.777710,476.096436 918.027954,484.670105 905.110229,489.704376   C898.573425,492.251923 892.072327,491.850189 885.777405,488.616241   C876.710083,483.957947 873.045288,476.775482 875.206360,466.776489   C878.309692,452.418610 883.689575,438.768768 888.878967,425.083832   C890.253723,421.458557 890.954407,418.548828 887.043091,416.093414   C884.441040,414.459900 884.598633,412.097168 885.984253,409.547272   C890.168701,401.846680 895.609619,395.145752 902.230591,389.468262   C906.970398,385.403900 911.013855,385.285553 915.438354,388.263550   C920.073792,391.383484 919.942810,395.440216 918.345703,400.142670   C912.192444,418.260498 906.421570,436.509216 899.474304,454.352051   C897.909546,458.370819 896.232605,462.392181 896.282104,466.840546   C896.326843,470.856262 898.370483,472.249939 902.132263,471.218384   C909.486572,469.201691 914.180420,463.809509 918.826416,457.813995  z"
            variants={pathVariants}
          />
          <motion.path
            stroke={theme === "light" ? "white" : "black"}
            fill={theme === "light" ? "black" : "white"}
            d=" M920.226318,346.110657   C921.331482,345.318085 922.101440,344.651733 922.985596,344.218323   C926.361816,342.563416 929.896362,341.335968 933.319031,343.829529   C936.548889,346.182678 936.832031,349.857819 936.156067,353.329529   C934.737244,360.616150 931.084106,366.705048 924.639709,370.615601   C917.838013,374.742950 911.727356,371.287903 911.783081,363.336670   C911.830933,356.511017 915.019043,350.951294 920.226318,346.110657  z"
            variants={pathVariants}
          />
        </motion.svg>
      </Link>
      <nav className={styles.nav}>
      <Link
          className={theme === "light" ? styles.shop : styles.shopBlack}
          to="/op-react-shopping-cart/catalog"
        >
          Saludos
        </Link>
        <a
          className={theme === "light" ? styles.shop : styles.shopBlack}
          href="https://photos.app.goo.gl/hGWrXonni3ePnkPm8"
          target="_blank"
          rel="noreferrer"
        >
          Fotos
        </a>
        <a
          className={theme === "light" ? styles.shop : styles.shopBlack}
          href="https://photos.app.goo.gl/hGWrXonni3ePnkPm8"
          target="_blank"
          rel="noreferrer"
        >
          Oxi
        </a>
      </nav>
    </header>
  );
}

Header.propTypes = {
  openSearch: PropTypes.func.isRequired,
  openCart: PropTypes.func.isRequired,
};

export default Header;
